name: Deploy Plugin

on:
  workflow_dispatch:
    inputs:
      deployment_type:
        default: 'stable'
        required: true
        type: string
        description: 'stable or testing'
      version:
        required: true
        description: 'version (e.g. 1.0.0.0)'
        type: string

jobs:
  deploy-plugin:
    uses: kalilistic/DalamudPluginDeploy/.github/workflows/deploy_plugin.yml@7dd6a4952a96ad4b3b5b0c61ab90e64fd09f1c4e
    with:
      public_name: "PlayerTrack"
      internal_name: "PlayerTrack"
      project_dir: "PlayerTrack.Plugin"
      project_name: "PlayerTrack.Plugin"
      github_username: "kalilistic"
      github_email: "35899782+kalilistic@users.noreply.github.com"
      open_pr: false
      deployment_type: ${{ github.event.inputs.deployment_type }}
      version: ${{ github.event.inputs.version }}
    secrets:
      DEPLOY_TOKEN: ${{ secrets.PAT }}
